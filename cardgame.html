<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2505781446931756"
     crossorigin="anonymous"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XHM6DHWSRX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XHM6DHWSRX');
</script>
<title>æ¼¢å­—ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ‘ã‚ºãƒ«</title>
<style>
  body {
     font-family: sans-serif;
     text-align: center;
    background-color: #fff9d6;
 }
  .board {
    display: grid;
    grid-template-columns: repeat(4, 60px);
    grid-template-rows: repeat(4, 60px);
    gap: 5px;
    justify-content: center;
    margin: 20px;
  }
  .cell {
    width: 60px;
    height: 60px;
    background: #f8f8f8;
    border: 1px solid #ccc;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5em;
  }
  .hand-card {
    display: inline-block;
    width: 60px;
    height: 60px;
    margin: 5px;
    line-height: 60px;
    background: #fff;
    border: 2px solid #333;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
  }
  .highlight { background: #ffeaa7; border-color: #e17055; }
  #wordInfo {
    margin-top: 20px;
    text-align: center;
    min-height: 60px;
    border: none;
    padding: 10px;
    width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  .wordEntry { margin-bottom: 15px; }
  .wordEntry .word { text-align: center; font-size: 1.2em; font-weight: bold; }
  .wordEntry .meaning { text-align: left; margin-top: 5px; }
  .gameClear { font-weight: bold; font-size: 1.5em; margin-top: 10px; text-align: center; }
  #timer { font-weight: bold; font-size: 1.2em; margin-top: 10px; text-align: center; }
  button {
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
  }
  /* ã‚¹ãƒãƒ›ç”¨èª¿æ•´ */
@media (max-width: 600px) {
.board {
grid-template-columns: repeat(4, 50px);
grid-template-rows: repeat(4, 50px);
gap: 4px;
}
.cell {
width: 50px;
height: 50px;
font-size: 1.2em;
}
.hand-card {
width: 50px;
height: 50px;
line-height: 50px;
font-size: 1.1em;
}
.wordEntry .word {
font-size: 1.3em;
text-align: center;
}
.wordEntry .meaning {
font-size: 1em;
margin-top: 8px;
text-align: center;
}
}
@media screen and (max-width: 600px) {
  #wordInfo {
    width: 90%;         /* ç”»é¢å¹…ã«åˆã‚ã›ã‚‹ */
    font-size: 0.9em;   /* å°‘ã—æ–‡å­—ã‚µã‚¤ã‚ºã‚’å°ã•ã */
  }
  .wordEntry .word {
    font-size: 1.1em;   /* å˜èªéƒ¨åˆ†ã¯å¼·èª¿ */
  }
  .wordEntry .meaning {
    font-size: 0.9em;   /* æ„å‘³ã¯å°‘ã—å°ã•ã‚ */
  }
}

</style>
</head>
<body>
<h1>æ¼¢å­—ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ‘ã‚ºãƒ«</h1>
<div id="timer">çµŒéæ™‚é–“: 0 ç§’</div>
<div class="board" id="board"></div>
<div class="zone" id="wordInfo"></div>
<div class="zone">
  <div id="hand"></div>
</div>
<div class="zone">
  <button id="saveScoreBtn" style="display:none;" onclick="saveScore()">ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ ã‚’è¨˜éŒ²</button><br>
  <br>
  <button onclick="startGame()">æœ€åˆã‹ã‚‰å§‹ã‚ã‚‹</button>
</div>
<footer>
  <p>Â©å•“æ¬¡éƒ | <a href="https://forms.gle/LbM6LAJCj1NV7XqH8" target="_blank">èª¤å­—èª¤ç­”å ±å‘Š</a> | <a href="https://hamuburo.hatenablog.com/" target="_blank">ã¨ã‚ã‚‹ãŠã£ã•ã‚“ã®æˆ¯è¨€</a></p>
  <p><a href="index.html">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸</a> | <a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></p>
</footer>

<script>
const dictionary = [
  {word:"ç«èŠ±", reading:"ã²ã°ãª", meaning:"ç´°ã‹ãé£›ã³æ•£ã‚‹ç«ã®ç²‰ã€‚"},
  {word:"ç«å±±", reading:"ã‹ã–ã‚“", meaning:"åœ°ä¸‹ã®ãƒã‚°ãƒã‚„ãã®ç”Ÿæˆç‰©ãŒåœ°è¡¨ã«å™´å‡ºã—ã¦ç”Ÿã˜ãŸåœ°å½¢ã€‚"},
  {word:"ç«æ°´", reading:"ã²ã¿ãš", meaning:"ç«ã¨æ°´ã€‚ä»²ãŒéå¸¸ã«æ‚ªã„ã“ã¨ã€‚"},
  {word:"ç«çŸ³", reading:"ã‹ã›ã", meaning:"ç«ã§ç„¼ã„ã¦ç†±ããªã£ãŸçŸ³ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"ç«ä¸­", reading:"ã‹ã¡ã‚…ã†", meaning:"ç‡ƒãˆã¦ã„ã‚‹ç«ã®ä¸­ã€‚ã€Œãƒ¼ãƒ¼ã®æ —ã‚’æ‹¾ã†ã€ã€‚"},
  
  {word:"èŠ±ç«", reading:"ã¯ãªã³", meaning:"é»’è‰²ç«è–¬ãƒ»ç™ºè‰²å‰¤ãªã©ã‚’ã¾ãœåˆã‚ã›ã¦ç­’ã‚„ç‰ãªã©ã«è©°ã‚ã€ç‚¹ç«ã—ã¦ç ´è£‚ãƒ»ç‡ƒç„¼ã•ã›ã€ãã®è‰²å½©ã®ç¾ã—ã•ã‚„çˆ†éŸ³ãªã©ã‚’æ¥½ã—ã‚€ã‚‚ã®ã€‚å¤ã®é¢¨ç‰©è©©ã€‚"},
  {word:"èŠ±å±±", reading:"ã¯ãªã‚„ã¾", meaning:"æ¡œã®èŠ±ã®å’²ã„ã¦ã„ã‚‹å±±ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"èŠ±æœ¨", reading:"ã‹ã¼ã", meaning:"èŠ±ã¨æœ¨ã€‚"},
  {word:"èŠ±é›¨", reading:"ã‹ã†", meaning:"ä¸»ã«æ¡œã®èŠ±ã³ã‚‰ãŒé›¨ã®ã‚ˆã†ã«æ•£ã‚Šã‚†ãæ§˜å­ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"èŠ±æ°´", reading:"ã¯ãªã¿ãš", meaning:"ä»å‰ã«èŠ±ã‚’ä¾›ãˆã‚‹æ™‚ã«ç”¨ã„ã‚‹æ°´ã€‚ä»æ•™ç”¨èªã€‚"},
  {word:"èŠ±è‰", reading:"ã¯ãªãã•", meaning:"èŠ±ã®å’²ã„ã¦ã„ã‚‹è‰ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"èŠ±éŸ³", reading:"ã‹ã„ã‚“", meaning:"èŠ±ãŒå’²ã„ãŸã¨ã„ã†çŸ¥ã‚‰ã›ã€‚èŠ±ä¿¡ã¨ã‚‚ã„ã†ã€‚\nã€€ãƒ¼ãƒ¼æ™®åŠç‰ˆ å­—é€šã‚ˆã‚Š"},
  {word:"èŠ±æ‘", reading:"ã‹ãã‚“", meaning:"èŠ±ã®å’²ãæ‘ã€‚\nã€€ãƒ¼ãƒ¼æ™®åŠç‰ˆ å­—é€šã‚ˆã‚Š"},
  
  {word:"å±±ç«", reading:"ã•ã‚“ã‹", meaning:"å±±ã«èµ·ã“ã‚‹ç«ç½ã€‚å±±ç«äº‹ã€‚"},
  {word:"å±±èŠ±", reading:"ã•ã‚“ã‹", meaning:"å±±ä¸­ã«å’²ãèŠ±ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"å±±æœ¨", reading:"ã‚„ã¾ã", meaning:"å±±ã«ç”Ÿãˆã¦ã„ã‚‹æœ¨ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"å±±é›¨", reading:"ã•ã‚“ã†", meaning:"å±±ã«é™ã‚‹é›¨ã€‚ã¾ãŸã€å±±ã®æ–¹ã‹ã‚‰é™ã‚Šå§‹ã‚ãŸé›¨ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"å±±æ°´", reading:"ã•ã‚“ã™ã„", meaning:"å±±ã¨æ°´ã€‚å±±ã¨å·ã€‚å±±ã¨æ°´ã®ã‚ã‚‹é¢¨æ™¯ã€‚ã¾ãŸã€å±±ã‹ã‚‰æµã‚Œå‡ºã‚‹æ°´ã€‚"},
  {word:"å±±è‰", reading:"ã‚„ã¾ãã•", meaning:"å±±ã«ç”Ÿãˆã¦ã„ã‚‹è‰ã€‚"},
  {word:"å±±çŸ³", reading:"ã‚„ã¾ã„ã—/ã•ã‚“ã›ã", meaning:"å±±ã‹ã‚‰å‡ºã‚‹çŸ³ã€‚å±±ã«ã‚ã‚‹çŸ³ã€‚å±±ã®çŸ³ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"å±±ä¸­", reading:"ã•ã‚“ã¡ã‚…ã†", meaning:"å±±ã®ä¸­ã€‚å±±é–“ã€‚"},
  {word:"å±±æ‘", reading:"ã•ã‚“ãã‚“", meaning:"å±±ã®ä¸­ã«ã‚ã‚‹æ‘ã€‚"},
  
  {word:"æœ¨èŠ±", reading:"ãã°ãª", meaning:"æ¨¹æ°·ã€‚éœ§æ»´ãŒæ¨¹ã®æãªã©ã«ã¤ã„ã¦æ°·çµã—ãŸã‚‚ã®ã€‚å†¬ã®å­£èªã€‚"},
  {word:"æœ¨å±±", reading:"ãã‚„ã¾", meaning:"ææœ¨ã‚’åˆ‡ã‚Šå‡ºã™å±±ã®ã“ã¨ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"æœ¨æ°´", reading:"ãã¿ãš", meaning:"æ°´ã®ä¹ã—ã„å ´æ‰€ã§æ¨¹æœ¨ã®æ ¹å…ƒã«æœ¨ã®è‘‰ãªã©ã‚’ã¤ã‘ã€æè‘‰ã‹ã‚‰ä¼ã‚ã‚‹é›¨æ°´ã‚’å®¹å™¨ã«é›†ã‚ã‚‹è£…ç½®ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"æœ¨è‰", reading:"ããã•", meaning:"æœ¨ã¨è‰ã€‚è‰æœ¨ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"æœ¨çŸ³", reading:"ã¼ãã›ã", meaning:"æœ¨ã¨çŸ³ã€‚æ¨¹æœ¨ã¨å²©çŸ³ã€‚è»¢ã˜ã¦ã€äººé–“ã‚‰ã—ã„æ„Ÿæƒ…ã®ãªã„ã‚‚ã®ã®ãŸã¨ãˆã€‚"},
  
  {word:"é›¨èŠ±", reading:"ã†ã‹", meaning:"é›¨ãŒé™ã‚‹ä¸­ã®èŠ±ã€‚\nã€€ãƒ¼ãƒ¼æ™®åŠç‰ˆ å­—é€šã‚ˆã‚Š"},
  {word:"é›¨æ°´", reading:"ã†ã™ã„", meaning:"é™ã‚‹é›¨ã®æ°´ã€‚ã¾ãŸã€é›¨ãŒé™ã£ã¦æºœã¾ã£ãŸæ°´ã€‚"},
  {word:"é›¨ç©º", reading:"ã‚ã¾ãã‚‰", meaning:"ä»Šã«ã‚‚é›¨ãŒé™ã‚Šå‡ºã—ãã†ãªç©ºã€‚ã¾ãŸã€é›¨ã®é™ã£ã¦ã„ã‚‹ç©ºã€‚"},
  {word:"é›¨éŸ³", reading:"ã‚ã¾ãŠã¨", meaning:"é™ã‚‹é›¨ãŒç‰©ã«è§¦ã‚Œã¦å¥ã§ã‚‹éŸ³"},
  {word:"é›¨ä¸­", reading:"ã†ã¡ã‚…ã†", meaning:"é›¨ãŒé™ã£ã¦ã„ã‚‹ä¸­ã€‚"},
  
  {word:"æ°´ç«", reading:"ã™ã„ã‹", meaning:"æ°´ã¨ç«ã€‚æ´ªæ°´ã¨ç«äº‹ã€‚ã¾ãŸã€äº’ã„ã«ç›¸å®¹ã‚Œãªã„ã“ã¨ã€‚"},
  {word:"æ°´æœ¨", reading:"ã¿ãšã", meaning:"ãƒŸã‚ºã‚­ç§‘ã®è½è‘‰é«˜æœ¨ã€‚å±±åœ°ã«è‡ªç”Ÿã—ã¦ã„ã‚‹ã€‚"},
  {word:"æ°´ç©º", reading:"ã™ã„ãã†", meaning:"åºƒã„é›ªåŸã‚„æ°·æµ·ã«ãŠã„ã¦ã€æ°´é¢ã«ä¸Šç©ºã®é›²ã®åº•é¢ã ã‘å…‰ã®åå°„ãŒãªãã‚„ã‚„é»’ã£ã½ãè¦‹ãˆã‚‹ç¾è±¡ã€‚æ°·æµ·ã‚’èˆªæµ·ã™ã‚‹å ´åˆã®é‡è¦ãªç›®æ¨™ã€‚"},
  {word:"æ°´è‰", reading:"ã¿ãšãã•", meaning:"æ°´ä¸­ã€ã¾ãŸã¯æ°´è¾ºã«ç”Ÿãˆã‚‹è‰ã€‚"},
  {word:"æ°´çŸ³", reading:"ã™ã„ã›ã", meaning:"æ°´ã¨çŸ³ã€‚æ³‰æ°´ã¨åº­çŸ³ã€‚ã¾ãŸã€æ°´ä¸­ã«ã‚ã‚‹çŸ³ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"æ°´éŸ³", reading:"ã¿ã™ãŠã¨", meaning:"æ°´ã®æµã‚Œã‚‹éŸ³ã€‚æ°´æ»´ã®è½ã¡ã‚‹éŸ³ã€‚"},
  {word:"æ°´ä¸­", reading:"ã™ã„ã¡ã‚…ã†", meaning:"æ°´ã®ä¸­ã€‚"},
  {word:"æ°´æ‘", reading:"ã™ã„ãã‚“", meaning:"æ°´è¾ºã®æ‘ã€‚æ¹–ã‚„å·ã®æ™¯è‰²ãŒç¾ã—ã„æ‘ã€‚"},
  
  {word:"ç©ºèŠ±", reading:"ãã†ã’", meaning:"æœ¬æ¥å­˜åœ¨ã—ãªã„ã‚‚ã®ãŒã¾ã‚‹ã§ãã“ã«ã‚ã‚‹ã‹ã®ã‚ˆã†ã«è¦‹ãˆã¦å›šã‚ã‚Œã¦ã„ã‚‹ã“ã¨ã€‚ä»æ•™ç”¨èªã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"ç©ºå±±", reading:"ãã†ã–ã‚“", meaning:"äººã®æ°—é…ã®ãªã„å¯‚ã—ã„å±±ã€‚"},
  {word:"ç©ºæœ¨", reading:"ã†ã¤ã", meaning:"ã‚¢ã‚¸ã‚µã‚¤ç§‘ã®å¹¹ã®å†…éƒ¨ãŒä¸­ç©ºã®è½è‘‰ä½æœ¨ã€‚å±±é‡ã«è‡ªç”Ÿã€‚â€œã†ã¤ã‚ãâ€ã¨èª­ã‚€å ´åˆã¯ä¸­ãŒè…ã£ã¦ç©ºæ´ã«ãªã£ãŸæœ¨ã®ã“ã¨ã€‚"},
  {word:"ç©ºæ°´", reading:"ãã†ã™ã„", meaning:"ç©ºã¨æ°´ã€‚\nã€€ãƒ¼ãƒ¼æ™®åŠç‰ˆ å­—é€šã‚ˆã‚Š"},
  {word:"ç©ºè‰", reading:"ã†ã¤ã¼ãã•", meaning:"ãƒ¦ãƒªç§‘ã®å¤šå¹´è‰ã€‚ãƒã‚®ã®ã“ã¨ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"ç©ºéŸ³", reading:"ãã‚‰ã­", meaning:"å®Ÿéš›ã«ã¯é³´ã£ã¦ã„ãªã„ã®ã«èã“ãˆã¦ã„ã‚‹ã‚ˆã†ãªæ°—ãŒã™ã‚‹æ¥½å™¨ã®éŸ³ã€‚ã¾ãŸã€é³´ã‚‰ãã†ã¨ã—ã¦ã„ãªã„ã®ã«ã€ãŸã¾ãŸã¾è§¦ã‚Œã¦é³´ã£ã¦ã—ã¾ã†æ¥½å™¨ã®éŸ³ã€‚"},
  {word:"ç©ºä¸­", reading:"ãã†ã¡ã‚…ã†", meaning:"åœ°é¢ã‚„æ°´é¢ã‹ã‚‰é›¢ã‚ŒãŸå ´æ‰€ã€‚ç‰©ä½“ãŒä½•ã«ã‚‚è§¦ã‚Œã¦ã„ãªã„çŠ¶æ…‹ã€‚"},
  {word:"ç©ºæ‘", reading:"ãã†ãã‚“", meaning:"ç„¡äººã®æ‘ã€‚\nã€€ãƒ¼ãƒ¼æ™®åŠç‰ˆ å­—é€šã‚ˆã‚Š"},
  
  {word:"è‰ç«", reading:"ãã•ã³", meaning:"è‰ã‚’ç„¼ãç«ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"è‰èŠ±", reading:"ãã•ã°ãª", meaning:"è‰ã¨èŠ±ã€‚èŠ±ã®å’²ãè‰ã€‚ã¾ãŸã€è‰ã«å’²ãèŠ±ã€‚ç§‹ã®å­£èªã€‚"},
  {word:"è‰å±±", reading:"ãã•ã‚„ã¾", meaning:"è‰ã®ç”Ÿã„èŒ‚ã£ãŸå±±ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"è‰æœ¨", reading:"ãã•ã", meaning:"è‰ã¨æœ¨ã€‚"},
  {word:"è‰ä¸­", reading:"ãã†ã¡ã‚…ã†", meaning:"è‰ã®ä¸­ã€‚è‰ã‚€ã‚‰ã®ä¸­ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  
  {word:"çŸ³ç«", reading:"ã›ã£ã‹", meaning:"ç«æ‰“çŸ³ã‚’ä½¿ã£ã¦å‡ºã™ç«ã€‚ã¾ãŸã€çŸ³ã‚„é‡‘å±ãŒæ¿€ã—ãã¶ã¤ã‹ã‚Šåˆã£ã¦èµ·ã“ã‚‹ç«ã€‚"},
  {word:"çŸ³èŠ±", reading:"ã›ãã‹", meaning:"è²é¡ã€‚ç‰¹ã«ç‰¡è £ã®ã“ã¨ã€‚ã¾ãŸã€è»½çŸ³ã®ã“ã¨ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"çŸ³å±±", reading:"ã„ã—ã‚„ã¾", meaning:"å²©çŸ³ã®å¤šã„å±±ã€‚ã¾ãŸã€çŸ³æã‚’åˆ‡ã‚Šå‡ºã™å±±ã€‚"},
  {word:"çŸ³æœ¨", reading:"ã„ã‚ã", meaning:"å²©çŸ³ã¨æ¨¹æœ¨ã€‚ã¾ãŸã€æ„Ÿæƒ…ã‚’æŒãŸãªã„ã‚‚ã®ã®ãŸã¨ãˆã€‚å²©æœ¨ã¨æ›¸ãæ–¹ãŒä¸€èˆ¬çš„ã€‚"},
  {word:"çŸ³è‰", reading:"ã„ã—ãã•/ã„ã—ãã•", meaning:"ã‚­ã‚¯ç§‘ã®ä¸€å¹´è‰ã€‚ã‚»ãƒ³ãƒ€ãƒ³ã‚°ã‚µã®åˆ¥åã€‚\nã€€ãƒ¼ãƒ¼å‹•æ¤ç‰©åã‚ˆã¿ã‹ãŸè¾å…¸ æ™®åŠç‰ˆã‚ˆã‚Š"},
  {word:"çŸ³éŸ³", reading:"ã„ã—ãŠã¨", meaning:"ç¢ã‚’æ‰“ã¤éŸ³ã€‚çŸ³ã®è§¦ã‚Œåˆã†éŸ³ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},

  {word:"éŸ³æœ¨", reading:"ãŠã‚“ã", meaning:"ä»å…·ã®ä¸€ã¤ã€‚æ‹å­æœ¨ã«ä¼¼ã¦ã„ã‚‹ã€‚èª­çµŒã®ã¨ãã€å¥èª­ã«åˆã‚ã›ã¦æ‰“ã¡é³´ã‚‰ã—ã€éŸ³é ­ã‚’å–ã‚‹ã®ã«ä½¿ã†ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},

  {word:"ä¸­ç«", reading:"ã¡ã‚…ã†ã³", meaning:"ä¸­ãã‚‰ã„ã®ç«åŠ›ã€‚å¼·ç«ã¨å¼±ç«ã¨ã®é–“ã®ã€ä¸­ç¨‹åº¦ã®ç«åŠ æ¸›ã€‚"},
  {word:"ä¸­å±±", reading:"ã¡ã‚…ã†ã–ã‚“", meaning:"ç‰çƒç‹å›½ã®ç•°ç§°ã€‚ä¸­å›½å´ã‹ã‚‰ã®å‘¼ç§°ã€‚å°å›½å®¶ã®ä¸­å±±ãŒåŒ—å±±ã€å—å±±ã‚’æ»…ã¼ã—ã¦çµ±ä¸€ç‹æœã‚’æ¨¹ç«‹ã—ãŸã“ã¨ã‹ã‚‰ãã†å‘¼ã°ã‚ŒãŸã€‚"},
  {word:"ä¸­æ°´", reading:"ã¡ã‚…ã†ã™ã„", meaning:"é›¨æ°´ã‚„é›‘æ’æ°´ã‚’æµ„åŒ–ã—ãŸæ°´ã€‚é£²ç”¨ã«ã¯ã§ããªã„ãŒã€å·¥æ¥­ç”¨æ°´ã‚„æ°´æ´—ãƒˆã‚¤ãƒ¬ã€æ•£æ°´ãªã©ã®é›‘ç”¨ã«åˆ©ç”¨ã•ã‚Œã‚‹ã€‚"},
  {word:"ä¸­ç©º", reading:"ã¡ã‚…ã†ãã†", meaning:"ç©ºã®çœŸã‚“ä¸­ã€‚ã¾ãŸã€ç‰©ã®å†…éƒ¨ãŒã‹ã‚‰ã«ãªã£ã¦ã„ã‚‹çŠ¶æ…‹ã€‚"},
  {word:"ä¸­çŸ³", reading:"ãªã‹ã„ã—", meaning:"æ–­å±¤é¢ã«æŒŸåœ¨ã™ã‚‹å²©çŸ³å¡Šã®ã“ã¨ã€‚é€šå¸¸ã€æ–­å±¤ãŒã§ãã‚‹ã¨ãæ–­å±¤é¢ã«æ²¿ã†å²©çŸ³ã¯ç²‰ç •ã•ã‚Œã‚‹ãŒã€ãã®éš›ã«æ¯”è¼ƒçš„å¤§ããå¡ŠçŠ¶ã«åˆ‡å–ã‚‰ã‚ŒãŸå²©çŸ³ã®ä¸€éƒ¨ãŒï¼Œä¸Šç›¤ã¨ä¸‹ç›¤ã®é–“ã«ã¯ã•ã¾ã‚Œã¦ä¸­çŸ³ã¨ãªã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚\nã€€ãƒ¼ãƒ¼ãƒ–ãƒªã‚¿ãƒ‹ã‚«å›½éš›å¤§ç™¾ç§‘äº‹å…¸ å°é …ç›®äº‹å…¸ã‚ˆã‚Š"},
  {word:"ä¸­éŸ³", reading:"ã¡ã‚…ã†ãŠã‚“", meaning:"ä¸­ãã‚‰ã„ã®é«˜ã•ã‚„å¼·ã•ã®éŸ³ã¾ãŸã¯å£°ã€‚ã¾ãŸã€éŸ³æ¥½ã§ä¸­ç¨‹åº¦ã®éŸ³åŸŸã®éŸ³ã€‚ã‚¢ãƒ«ãƒˆã€‚"},

  {word:"æ‘å±±", reading:"ã‚€ã‚‰ã‚„ã¾", meaning:"æ±Ÿæˆ¸æ™‚ä»£ã«ä¸€æ‘ã¨ã—ã¦å…±æœ‰ã—ã€å…±åŒç”¨ç›Šã—ãŸå±±ã€‚\nã€€ãƒ¼ãƒ¼ç²¾é¸ç‰ˆ æ—¥æœ¬å›½èªå¤§è¾å…¸ã‚ˆã‚Š"},
  {word:"æ‘é›¨", reading:"ã‚€ã‚‰ã•ã‚", meaning:"æ¿€ã—ãé™ã£ã¦ã™ãã«æ­¢ã‚€é›¨ã€‚å¤•ç«‹ã®ã‚ˆã†ãªé›¨ã€‚"},
  {word:"æ‘ä¸­", reading:"ãã‚“ã¡ã‚…ã†", meaning:"æ‘ä¸­ã®äººã€‚\nã€€ãƒ¼ãƒ¼æ™®åŠç‰ˆ å­—é€šã‚ˆã‚Š"}
];


const boardSize = 4;
let kanjiList = "ç«èŠ±å±±æœ¨é›¨æ°´ç©ºè‰çŸ³éŸ³ä¸­æ‘".split("");
let deck = [];
let hand = [];
let board = Array(boardSize).fill(null).map(()=>Array(boardSize).fill(null));
let selectedHandIndex = null;
let displayedWord = null;
let startTime;              // ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã®æ™‚åˆ»ã‚’ä¿å­˜
let timerInterval;          // setInterval ã® ID ã‚’ä¿å­˜ï¼ˆæ­¢ã‚ã‚‹ã¨ãã«ä½¿ã†ï¼‰
let finalElapsedSeconds = 0; // æœ€çµ‚ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ ï¼ˆç§’ï¼‰ã‚’ä¿å­˜
const initialHandCount = 7;

function shuffle(array){for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]];}return array;}

// æ–°ã—ã„ã‚²ãƒ¼ãƒ é–‹å§‹å‡¦ç†
function startGame() {
// ç›¤é¢ãƒªã‚»ãƒƒãƒˆ
document.getElementById('board').innerHTML = '';
document.getElementById('hand').innerHTML = '';
document.getElementById('wordInfo').innerHTML = '';


// ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ è¨˜éŒ²ãƒœã‚¿ãƒ³éè¡¨ç¤º
const saveButton = document.getElementById('saveScoreBtn');
if (saveButton) saveButton.style.display = 'none';


// ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ
clearInterval(timerInterval);
document.getElementById('timer').innerText = 'â±ï¸ çµŒéæ™‚é–“: 0ç§’';
finalElapsedSeconds = 0;
startTime = null;


// ç›¤é¢ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ
board = Array(boardSize).fill(null).map(()=>Array(boardSize).fill(null));

// é¸æŠä¸­æ‰‹æœ­ã‚‚ãƒªã‚»ãƒƒãƒˆ
selectedHandIndex = null;

// è¡¨ç¤ºä¸­ã®å˜èªæƒ…å ±ã‚‚ãƒªã‚»ãƒƒãƒˆ
displayedWord = null;

// ã‚²ãƒ¼ãƒ åˆæœŸåŒ–
init();
}

function startTimer() {
startTime = Date.now();
timerInterval = setInterval(() => {
const elapsed = Math.floor((Date.now() - startTime) / 1000);
document.getElementById('timer').innerText = `â±ï¸ çµŒéæ™‚é–“: ${elapsed}ç§’`;
}, 1000);
}

function stopTimer() {
clearInterval(timerInterval);
finalElapsedSeconds = Math.floor((Date.now() - startTime) / 1000);
}

function init(){
  deck=shuffle([...kanjiList]);
  hand=deck.splice(0,initialHandCount);
  let placedCount=0;
  while(placedCount<3&&deck.length>0){
    let kanji=deck.pop();
    if(placeRandomNonAdjacent(kanji)){placedCount++;}
  }
  render();
  startTimer();
}

function placeRandomNonAdjacent(kanji){let tries=0;while(tries<100){let x=Math.floor(Math.random()*boardSize);let y=Math.floor(Math.random()*boardSize);if(!board[y][x]&&isNonAdjacent(x,y)){board[y][x]=kanji;return true;}tries++;}return false;}
function isNonAdjacent(x,y){const directions=[[1,0],[-1,0],[0,1],[0,-1]];for(let [dx,dy]of directions){let nx=x+dx,ny=y+dy;if(nx>=0&&nx<boardSize&&ny>=0&&ny<boardSize){if(board[ny][nx])return false;}}return true;}

function render(){
  const boardDiv=document.getElementById('board');
  boardDiv.innerHTML='';
  for(let y=0;y<boardSize;y++){
    for(let x=0;x<boardSize;x++){
      let el=document.createElement('div');
      el.className='cell';
      if(board[y][x]) el.innerText=board[y][x];
      el.onclick=()=>cellClick(x,y);
      boardDiv.appendChild(el);
    }
  }

  const handDiv=document.getElementById('hand');
  handDiv.innerHTML='';
  hand.forEach((k,i)=>{
    let el=document.createElement('div');
    el.className='hand-card';
    el.innerText=k;
    el.onclick=()=>handClick(i);
    if(i===selectedHandIndex) el.classList.add('highlight');
    handDiv.appendChild(el);
  });

  updateWordInfo();
}

function handClick(index){selectedHandIndex=index;render();}

function cellClick(x,y){
  if(selectedHandIndex===null) return;
  if(board[y][x]) return;
  let kanji=hand[selectedHandIndex];

  if(!canFormWord(x,y,kanji)){
    displayedWord={word:'', reading:'', meaning:'ã“ã“ã«ã¯ç½®ã‘ã¾ã›ã‚“'};
    updateWordInfo();
    return;
  }

  board[y][x]=kanji;
  hand.splice(selectedHandIndex,1);
  selectedHandIndex=null;

  checkWord(x,y);
  render();
}

function canFormWord(x,y,kanji){
  let pairs=[];
  if(y>0&&board[y-1][x]) pairs.push(board[y-1][x]+kanji);
  if(y<boardSize-1&&board[y+1][x]) pairs.push(kanji+board[y+1][x]);
  if(x>0&&board[y][x-1]) pairs.push(board[y][x-1]+kanji);
  if(x<boardSize-1&&board[y][x+1]) pairs.push(kanji+board[y][x+1]);
  return pairs.some(p=>dictionary.find(entry=>entry.word===p));
}

function checkWord(x,y){
  displayedWord=null;
  let k=board[y][x];
  let pairs=[];
  if(y>0&&board[y-1][x]) pairs.push(board[y-1][x]+k);
  if(y<boardSize-1&&board[y+1][x]) pairs.push(k+board[y+1][x]);
  if(x>0&&board[y][x-1]) pairs.push(board[y][x-1]+k);
  if(x<boardSize-1&&board[y][x+1]) pairs.push(k+board[y][x+1]);
  pairs.forEach(p=>{
    let matched=dictionary.find(entry=>entry.word===p);
    if(matched){displayedWord=matched;}
  });
}

function updateWordInfo(){
  const infoDiv=document.getElementById('wordInfo');
  infoDiv.innerHTML='';

  if(displayedWord){
    let entryDiv=document.createElement('div');
    entryDiv.className='wordEntry';
    let wordDiv=document.createElement('div');
    wordDiv.className='word';
    if(displayedWord.word) wordDiv.innerHTML=`<ruby><rb>${displayedWord.word}</rb><rt>${displayedWord.reading}</rt></ruby>`;
    let meaningDiv=document.createElement('div');
    meaningDiv.className='meaning';
    meaningDiv.innerText=displayedWord.meaning;
    entryDiv.appendChild(wordDiv);
    entryDiv.appendChild(meaningDiv);
    infoDiv.appendChild(entryDiv);
  }

 if(hand.length===0){
  let clearDiv=document.createElement('div');
  clearDiv.className='gameClear';
  clearDiv.innerText='ğŸ‰ ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢ï¼';
  infoDiv.appendChild(clearDiv);

  // ã‚¿ã‚¤ãƒãƒ¼åœæ­¢
  stopTimer();

  // è¨˜éŒ²ãƒœã‚¿ãƒ³è¡¨ç¤º
  document.getElementById('saveScoreBtn').style.display = 'inline-block';
}
}
  
function saveScore() {
const name = prompt('åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä»»æ„ï¼‰') || 'åç„¡ã—';
const score = { name, time: finalElapsedSeconds };
let scores = JSON.parse(localStorage.getItem('ranking')) || [];
scores.push(score);
scores.sort((a, b) => a.time - b.time); // é€Ÿã„é †

// ä¸Šä½100ä»¶ã ã‘ä¿æŒ
if (scores.length > 100) scores = scores.slice(0, 100);
localStorage.setItem('ranking', JSON.stringify(scores));

// â˜… ä¿å­˜å¾Œã€ranking.html ã«ç§»å‹•
window.location.href = 'ranking.html';
}

init();
</script>
</body>
</html>

